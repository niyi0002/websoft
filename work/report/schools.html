
<!doctype html>
<html lang="en">   
    <head>
        <meta charset="utf-8">
        <title>Schools</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="icon" href="favicon.ico">
    </head>
<script src = "https://code.jquery.com/jquery-3.1.1.min.js">
      </script>
<body>
    <table id="tableName">
    </table>
    

<script type = "text/javascript" language = "javascript">
$(document).ready(function() {
  // $.getJSON(url, callback);
  $.getJSON('javascript/fetch/data/1081.json', function(json) {
    tableGenerator('#tableName', json);
  });
});

function tableGenerator(selector, data) { // data is an array
  var keys = Object.keys(Object.assign({}, ...data));// Get the keys to make the header
  // Add header
  var head = '<thead><tr>';
  keys.forEach(function(key) {
    head += '<th>'+key+'</th>';
  });
  $(selector).append(head+'</tr></thead>');
  // Add body
  var body = '<tbody>';
  data.forEach(function(obj) { // For each row
    var row = '<tr>';
    keys.forEach(function(key) { // For each column
      row += '<td>';
      if (obj.hasOwnProperty(key)) { // If the obj doesnt has a certain key, add a blank space.
        row += obj[key];
      }
      row += '</td>';
    });
    body += row+'<tr>';
  })
  $(selector).append(body+'</tbody>');
}
</script>

</body>

</html>